(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01e56352"],{a523:function(e,t,r){"use strict";r("99af"),r("4de4"),r("b64b"),r("2ca0"),r("20f6"),r("4b85"),r("a15b"),r("498a");var n=r("2b0e");function a(e){return n["default"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,r){var n=r.props,a=r.data,i=r.children;a.staticClass="".concat(e," ").concat(a.staticClass||"").trim();var o=a.attrs;if(o){a.attrs={};var s=Object.keys(o).filter((function(e){if("slot"===e)return!1;var t=o[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}));s.length&&(a.staticClass+=" ".concat(s.join(" ")))}return n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),t(n.tag,a,i)}})}var i=r("d9f7");t["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var r,n=t.props,a=t.data,o=t.children,s=a.attrs;return s&&(a.attrs={},r=Object.keys(s).filter((function(e){if("slot"===e)return!1;var t=s[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}))),n.id&&(a.domProps=a.domProps||{},a.domProps.id=n.id),e(n.tag,Object(i["a"])(a,{staticClass:"container",class:Array({"container--fluid":n.fluid}).concat(r||[])}),o)}})},ddbe:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("PageHeader",{attrs:{title:e.title,items:e.items}}),r("v-app",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.itens,search:e.search,loading:e.loading,"loading-text":"Carregando..."},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Fornecedores")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),r("v-btn",{staticClass:"mb-2",attrs:{color:"warning",dark:""},on:{click:e.iniciar}},[r("v-icon",[e._v("cached")])],1),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,a=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",a,!1),n),[r("v-icon",[e._v("add_box")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.formValido,callback:function(t){e.formValido=t},expression:"formValido"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"2",sm:"2",md:"2"}},[r("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),r("v-col",{attrs:{cols:"10",sm:"10",md:"10"}},[r("v-text-field",{attrs:{rules:e.textRules,label:"Nome"},model:{value:e.editedItem.nome,callback:function(t){e.$set(e.editedItem,"nome",t)},expression:"editedItem.nome"}})],1)],1),r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Telefone"},model:{value:e.editedItem.telefone,callback:function(t){e.$set(e.editedItem,"telefone",t)},expression:"editedItem.telefone"}})],1),r("v-col",[r("v-text-field",{attrs:{rules:e.emailRules,label:"E-mail"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),r("v-btn",{attrs:{color:"pink accent-3",text:"",disabled:!e.formValido},on:{click:e.save}},[e._v("Salvar")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.acoes",fn:function(t){var n=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("mdi-pencil")]),r("v-icon",{attrs:{small:"",color:"danger"},on:{click:function(t){return e.deleteItem(n)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.iniciar}},[e._v("Reiniciar")])]},proxy:!0}])})],1)],1)],1)],1)},a=[],i=(r("c975"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),o=r("444f"),s=r("2579"),c=r("d4ec"),u=r("bee2"),l=r("45eb"),d=r("7e84"),f=r("262e"),m=r("2caf"),p=r("b7dc"),v=function(e){Object(f["a"])(r,e);var t=Object(m["a"])(r);function r(){return Object(c["a"])(this,r),t.call(this)}return Object(u["a"])(r,[{key:"getFornecedores",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:-1,e.next=3,Object(l["a"])(Object(d["a"])(r.prototype),"get",this).call(this,"fornecedor",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveFornecedor",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(Object(d["a"])(r.prototype),"save",this).call(this,"fornecedor",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delFornecedor",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(Object(d["a"])(r.prototype),"delete",this).call(this,"fornecedor",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:-1,e.next=3,Object(l["a"])(Object(d["a"])(r.prototype),"get",this).call(this,"compras",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveCompra",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(Object(d["a"])(r.prototype),"save",this).call(this,"compras",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveDetalhe",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(Object(d["a"])(r.prototype),"save",this).call(this,"compras-detalhe",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delDetalhe",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["a"])(Object(d["a"])(r.prototype),"delete",this).call(this,"compras-detalhe",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(p["a"]),h={name:"Fornecedores",components:{Layout:o["a"],PageHeader:s["a"]},props:[],data:function(){return{title:"Fornecedores",items:[{text:"Dashboard",href:"/home"},{text:"Fornecedores",active:!0}],itens:[],api:new v,loading:!1,search:"",headers:[{text:"ID",value:"id"},{text:"Nome",align:"start",sortable:!1,value:"nome"},{text:"Telefone",align:"start",sortable:!1,value:"telefone"},{text:"E-mail",align:"start",sortable:!1,value:"email"},{text:"Ações",value:"acoes",sortable:!1}],dialog:!1,editedIndex:-1,editedItem:{id:-1,nome:"",telefone:"",email:""},defaultItem:{id:-1,nome:"",telefone:"",email:""},emailRules:[function(e){return!!e||"E-mail is requerido"},function(e){return/.+@.+/.test(e)||"E-mail deve ser válido"}],textRules:[function(e){return!!e||"Requerido"}],formValido:!0}},created:function(){this.iniciar()},methods:{iniciar:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.api.getFornecedores();case 4:r=t.sent,e.itens=r,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),alert(t.t0);case 11:return t.prev=11,e.loading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},editItem:function(e){this.editedIndex=this.itens.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$swal.fire({title:"Tem certeza?",html:"Apagar o fornecedor <br><b>".concat(e.nome,"</b>"),icon:"question",showCancelButton:!0,confirmButtonText:"Sim!",cancelButtonText:"Não!",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!n.isConfirmed){r.next=7;break}return r.next=3,t.api.delFornecedor(e.id);case 3:t.iniciar(),t.$swal.fire("Apagado!","O fornecedor foi apagado com sucesso.","success"),r.next=8;break;case 7:t.$swal.fire("Cancelado!","O fornecedor foi mantido.","info");case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.editedItem,!(r.nome.length<=3)){t.next=4;break}return e.$swal({title:"Erro!",text:"Campo nome deve ter mais de três caracteres",icon:"error"}),t.abrupt("return",!1);case 4:for(a in n=new FormData,r)"imagem"==a?null!==r[a]&&n.append("imagem",r[a]):n.append(a,r[a]);return t.prev=6,e.loading=!0,t.next=10,e.api.saveFornecedor(n);case 10:e.close(),e.iniciar(),e.$swal({text:"Salvo com sucesso!",icon:"success"}),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),e.$swal({title:"Erro!",text:t.t0.toString(),icon:"error"});case 18:return t.prev=18,e.loading=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[6,15,18,21]])})))()}},computed:{formTitle:function(){return(-1===this.editedIndex?"Novo ":"Editar ")+"Fornecedor"}},watch:{dialog:function(e){e||this.close()}}},b=h,g=r("2877"),x=r("6544"),w=r.n(x),k=r("7496"),y=r("8336"),O=r("b0af"),j=r("99d9"),V=r("62ad"),I=r("a523"),_=r("8fea"),R=r("169a"),C=r("ce7e"),B=(r("4de4"),r("7db0"),r("4160"),r("caad"),r("07ac"),r("2532"),r("159b"),r("5530")),$=r("58df"),T=r("7e2b"),E=r("3206"),F=Object($["a"])(T["a"],Object(E["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,r=function(e){return e.$watch("hasError",(function(r){t.$set(t.errorBag,e._uid,r)}),{immediate:!0})},n={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?n.shouldValidate=e.$watch("shouldValidate",(function(a){a&&(t.errorBag.hasOwnProperty(e._uid)||(n.valid=r(e)))})):n.valid=r(e),n},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var r=this.watchers.find((function(e){return e._uid===t._uid}));r&&(r.valid(),r.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(B["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}),S=r("132d"),D=r("0fd9"),P=r("2fa4"),A=r("8654"),z=r("71d9"),N=r("2a7f"),q=Object(g["a"])(b,n,a,!1,null,null,null);t["default"]=q.exports;w()(q,{VApp:k["a"],VBtn:y["a"],VCard:O["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:V["a"],VContainer:I["a"],VDataTable:_["a"],VDialog:R["a"],VDivider:C["a"],VForm:F,VIcon:S["a"],VRow:D["a"],VSpacer:P["a"],VTextField:A["a"],VToolbar:z["a"],VToolbarTitle:N["a"]})}}]);
//# sourceMappingURL=chunk-01e56352.76e8e5eb.js.map