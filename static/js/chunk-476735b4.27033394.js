(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-476735b4"],{"4ab4":function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));r("96cf");var a=r("1da1"),n=r("d4ec"),i=r("bee2"),c=r("45eb"),s=r("7e84"),o=r("262e"),u=r("2caf"),l=r("b7dc"),d=function(e){Object(o["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(n["a"])(this,r),t.call(this)}return Object(i["a"])(r,[{key:"getCategorias",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:-1,e.next=3,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"categoria",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveCategoria",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"save",this).call(this,"categoria",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delCategoria",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"delete",this).call(this,"categoria",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSubCategorias",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:-1,e.next=3,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"subcategoria",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveSubCategoria",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"save",this).call(this,"subcategoria",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delSubCategoria",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"delete",this).call(this,"subcategoria",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getProdutos",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:-1,e.next=3,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"produto",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getProdutoByName",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"produto/by-descricao",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getProdutoBySubcategoria",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"produto/by-subcategoria",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"saveProduto",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"save",this).call(this,"produto",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delProduto",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"delete",this).call(this,"produto",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getEmpresas",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:-1,e.next=3,Object(c["a"])(Object(s["a"])(r.prototype),"get",this).call(this,"empresa",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveEmpresa",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"save",this).call(this,"empresa",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delEmpresa",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])(Object(s["a"])(r.prototype),"delete",this).call(this,"empresa",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(l["a"])},"6b0d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("PageHeader",{attrs:{title:e.title,items:e.items}}),r("v-app",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Buscar"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),r("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.itens,search:e.search,loading:e.loading,"loading-text":"Carregando..."},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:"",color:"white"}},[r("v-toolbar-title",[e._v("Categorias")]),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),r("v-spacer"),r("v-btn",{staticClass:"mb-2",attrs:{color:"warning",dark:""},on:{click:e.iniciar}},[r("v-icon",[e._v("cached")])],1),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,n=t.attrs;return[r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),a),[r("v-icon",[e._v("add_box")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),r("v-card-text",[r("v-container",[r("v-row",[r("v-col",{attrs:{cols:"2",sm:"2",md:"2"}},[r("v-text-field",{attrs:{label:"ID",disabled:""},model:{value:e.editedItem.id,callback:function(t){e.$set(e.editedItem,"id",t)},expression:"editedItem.id"}})],1),r("v-col",{attrs:{cols:"10",sm:"10",md:"10"}},[r("v-text-field",{attrs:{label:"Descrição"},model:{value:e.editedItem.descricao,callback:function(t){e.$set(e.editedItem,"descricao",t)},expression:"editedItem.descricao"}})],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancelar")]),r("v-btn",{attrs:{color:"pink accent-3",text:""},on:{click:e.save}},[e._v("Salvar")])],1)],1)],1)],1)]},proxy:!0},{key:"item.acoes",fn:function(t){var a=t.item;return[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(a)}}},[e._v("mdi-pencil")]),r("v-icon",{attrs:{small:"",color:"danger"},on:{click:function(t){return e.deleteItem(a)}}},[e._v("mdi-delete")])]}},{key:"no-data",fn:function(){return[r("v-btn",{attrs:{color:"primary"},on:{click:e.iniciar}},[e._v("Reiniciar")])]},proxy:!0}])})],1)],1)],1)],1)},n=[],i=(r("c975"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),c=r("444f"),s=r("2579"),o=r("4ab4"),u=r("c077"),l={name:"Categoria",components:{Layout:c["a"],PageHeader:s["a"]},props:[],mixins:[u["a"]],data:function(){return{title:"Categorias",items:[{text:"Dashboard",href:"/home"},{text:"Categorias",active:!0}],itens:[],api:new o["a"],loading:!1,search:"",headers:[{text:"ID",value:"id"},{text:"Descrição",align:"start",sortable:!1,value:"descricao"},{text:"Ações",value:"acoes",sortable:!1}],dialog:!1,editedIndex:-1,editedItem:{id:-1,descricao:""},defaultItem:{id:-1,descricao:""}}},created:function(){this.iniciar()},methods:{iniciar:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.itens=[],e.loading=!0,t.next=5,e.api.getCategorias();case 5:r=t.sent,e.itens=r,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.mensagemErro(t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},editItem:function(e){this.editedIndex=this.itens.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.loading=!0,r.next=4,t.mensagemPergunta("categoria ".concat(e.descricao,"?"),"Apagar");case 4:if(!r.sent){r.next=15;break}return r.next=7,t.api.delCategoria(e.id);case 7:if(a=r.sent,!a.ok){r.next=14;break}return t.$toastr.s("Eliminado ".concat(e.descricao)),r.next=12,t.iniciar();case 12:r.next=15;break;case 14:t.$toastr.e("Erro: ".concat(a.statusText));case 15:r.next=20;break;case 17:r.prev=17,r.t0=r["catch"](0),t.$toastr.e("Erro: ".concat(r.t0.toString()));case 20:return r.prev=20,t.loading=!1,r.finish(20);case 23:case"end":return r.stop()}}),r,null,[[0,17,20,23]])})))()},save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(a in r=new FormData,e.editedItem)r.append(a,e.editedItem[a]);return t.prev=2,e.loading=!0,t.next=6,e.api.saveCategoria(r);case 6:e.close(),e.iniciar(),e.mensagem("Salvo com sucesso","salvo","success"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),alert(t.t0);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))()}},computed:{formTitle:function(){return(-1===this.editedIndex?"Nova ":"Editar ")+"Categoria"}},watch:{dialog:function(e){e||this.close()}}},d=l,p=r("2877"),v=r("6544"),f=r.n(v),h=r("7496"),m=r("8336"),b=r("b0af"),g=r("99d9"),x=r("62ad"),w=r("a523"),k=r("8fea"),y=r("169a"),O=r("ce7e"),j=r("132d"),R=r("0fd9"),C=r("2fa4"),I=r("8654"),V=r("71d9"),_=r("2a7f"),P=Object(p["a"])(d,a,n,!1,null,null,null);t["default"]=P.exports;f()(P,{VApp:h["a"],VBtn:m["a"],VCard:b["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:x["a"],VContainer:w["a"],VDataTable:k["a"],VDialog:y["a"],VDivider:O["a"],VIcon:j["a"],VRow:R["a"],VSpacer:C["a"],VTextField:I["a"],VToolbar:V["a"],VToolbarTitle:_["a"]})},a523:function(e,t,r){"use strict";r("99af"),r("4de4"),r("b64b"),r("2ca0"),r("20f6"),r("4b85"),r("a15b"),r("498a");var a=r("2b0e");function n(e){return a["default"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,r){var a=r.props,n=r.data,i=r.children;n.staticClass="".concat(e," ").concat(n.staticClass||"").trim();var c=n.attrs;if(c){n.attrs={};var s=Object.keys(c).filter((function(e){if("slot"===e)return!1;var t=c[e];return e.startsWith("data-")?(n.attrs[e]=t,!1):t||"string"===typeof t}));s.length&&(n.staticClass+=" ".concat(s.join(" ")))}return a.id&&(n.domProps=n.domProps||{},n.domProps.id=a.id),t(a.tag,n,i)}})}var i=r("d9f7");t["a"]=n("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var r,a=t.props,n=t.data,c=t.children,s=n.attrs;return s&&(n.attrs={},r=Object.keys(s).filter((function(e){if("slot"===e)return!1;var t=s[e];return e.startsWith("data-")?(n.attrs[e]=t,!1):t||"string"===typeof t}))),a.id&&(n.domProps=n.domProps||{},n.domProps.id=a.id),e(a.tag,Object(i["a"])(n,{staticClass:"container",class:Array({"container--fluid":a.fluid}).concat(r||[])}),c)}})},c077:function(e,t,r){"use strict";r("96cf");var a=r("1da1");t["a"]={methods:{mensagem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";this.$swal({title:t,text:e,icon:r,allowOutsideClick:!1,confirmButtonText:"Ok"})},mensagemPergunta:function(e,t){var r=arguments,n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){var i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=r.length>2&&void 0!==r[2]?r[2]:"question",a.prev=1,a.next=4,n.$swal({title:t,text:e,icon:i,showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0});case 4:return c=a.sent,a.abrupt("return",c.isConfirmed);case 8:a.prev=8,a.t0=a["catch"](1);case 10:case"end":return a.stop()}}),a,null,[[1,8]])})))()}}}}}]);
//# sourceMappingURL=chunk-476735b4.27033394.js.map